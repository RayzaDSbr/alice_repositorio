<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Atividade em grupo</title>

</head>

<body>
    <h2>Cadastro de notas da Prof. Alice</h2>

    Nome do Aluno: <input id="ipt_nome"><br>
    Nota 1: <input id="ipt_nota1"><br>
    Nota 2: <input id="ipt_nota2"><br>
    Nota 3: <input id="ipt_nota3">
    <br> <br>
    <hr>
    <button onclick="cadastrar()">Cadastrar</button>

    <!--Duda e Rayza-->
    <button onclick="listar()">Listar</button>
    <!--Manu e Kitty
    <button onclick="aluno()">Aluno</button>-->
    <!--Duda e Rayza
    <button onclick="media()">Média</button>
    Manu e Kitty
    <button onclick="maior()">Notas maior que </button>-->
    <br>
    <div id="div_msg"> </div>
</body>
<script>
    var vet_cadastroAluno = [];

    function cadastrar() {

        var erro = false;
        var nome = ipt_nome.value;
        var nota1 = ipt_nota1.value;
        var nota2 = ipt_nota2.value;
        var nota3 = ipt_nota3.value;


        /*Validações*/
        if (nome == '' || nome.length < 9) {
            div_msg.innerHTML += 'O nome não esta preenchido ou tem menos de 9 caracteres!';

            erro = true;
        }
        if (nota1 == '' || nota1 < 0 || nota2 == '' || nota2 < 0 || nota3 == '' || nota3 < 0) {
            div_msg.innerHTML += '<br> Insira um valor maior que 0 nas notas!';

            erro = true;
        }

        for (let index = 0; index < vet_cadastroAluno.length; index++) {
            if (nome == vet_cadastroAluno[index]) {
                div_msg.innerHTML += '<br> Aluno ja foi cadastrado anteriormente!';

                erro = true;
            }

        }

        // Cadastrar
        if (erro == false) {

            // Array que armazena os valores dos alunos :)
            var aluno = {
                'nome': ipt_nome.value,
                'nota1': ipt_nota1.value,
                'nota2': ipt_nota2.value,
                'nota3': ipt_nota3.value
            }

            vet_cadastroAluno.push(aluno);
            console.log('funfando');

            alert("Aluno cadastrado com sucesso!");
        }
    }

    // Rayza e Duda
    function listar() {

        console.log(vet_cadastroAluno[0].nome);
        resposta = prompt('A lista sera organizada do ultimo para o primeiro? (s ou n)');

        if (resposta == 'n') {
            div_msg.innerHTML = '';

            for (let index = 0; index < vet_cadastroAluno.length; index++) {
                div_msg.innerHTML += '<br> ' + vet_cadastroAluno[index].nome + ', ' + vet_cadastroAluno[index].nota1 + ', ' + vet_cadastroAluno[index].nota2 + ', ' + vet_cadastroAluno[index].nota3;
            }


            /*for (let index = 0; index < vet_nome.length; index++) {
                div_msg.innerHTML += '<br> Nome do aluno: ' + vet_nome[index] + ' | Primeira Nota: ' + vet_nota1[index] + ' | Segunda Nota: ' + vet_nota2[index] + ' | Terceira Nota: ' + vet_nota3[index];
            }*/
        }
        if (resposta == 's') {
            div_msg.innerHTML = '';

            for (let index = vet_cadastroAluno.length -1; index >= 0; index--) {
                console.log(vet_cadastroAluno[index].nome);
                div_msg.innerHTML += '<br> ' + vet_cadastroAluno[index].nome + ', ' + vet_cadastroAluno[index].nota1 + ', ' + vet_cadastroAluno[index].nota2 + ', ' + vet_cadastroAluno[index].nota3;
                
            }
        }
    }

    function aluno() {
        aluno_desejado = prompt('Insira o nome do aluno cadastrado: ');

        div_msg.innerHTML = '';

        for (let index = 0; index < vet_nome.length; index++) {
            if (aluno_desejado == vet_nome[index]) {
                div_msg.innerHTML += '<br> Nome do aluno: ' + vet_nome[index] + ' | Primeira Nota: ' + vet_nota1[index] + ' | Segunda Nota: ' + vet_nota2[index] + ' | Terceira Nota: ' + vet_nota3[index];
            }

        }
    }

    function media() {
        var media = 0;

        for (let index = 0; index < vet_nome.length; index++) {
            media = (nota1[index] + nota2[index] + nota3[index]) / 3;

        }
    }
</script>

</html>